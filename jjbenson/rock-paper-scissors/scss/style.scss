@import "_vars";
@import "_mixins";

/* punch */
@include anim($animName:punch, $steps:3, $animNbr:3, $animParams:.15s infinite);
/* kick */
@include anim($animName:kick, $steps:5, $animNbr:7, $animParams:.5s infinite);
/* hadoken */
@include anim($animName:hadoken, $steps:4, $animNbr:1, $animParams:.5s infinite);

@keyframes punch {
  $animNbr : 3;
  $steps : 3;
  from { background-position:0px (-$spriteHeight * ($animNbr - 1)); }
  to { background-position:-($spriteWidth * $steps) (-$spriteHeight * ($animNbr - 1)); }
}
/* kick */
@keyframes kick {
  $animNbr : 7;
  $steps : 5;
  from { background-position:0px (-$spriteHeight * ($animNbr - 1)); }
  to { background-position:-($spriteWidth * $steps) (-$spriteHeight * ($animNbr - 1)); }
}
/* reverse kick */
@keyframes reversekick {
  $animNbr : 8;
  $steps : 5;
  from { background-position:0px (-$spriteHeight * ($animNbr - 1)); }
  to { background-position:-($spriteWidth * $steps) (-$spriteHeight * ($animNbr - 1)); }
}
@keyframes scaleWeapon {
  0% {
    transform: scale(1);// rotate(30deg);
    opacity: 1;
  }
  100% {
    transform: scale(1.2);//rotate(30deg);
    opacity: 0;
  }
}

@keyframes weaponTextAnim {
  0% {
    left:60px;
    top:0px;
  }
  100% {
    left:80px;
    top:-100px;
  }
}

@keyframes cpuWeaponTextAnim {

  //  top:-80px;
    // left:20px;
  0% {
    left:20px;
    top:-80px;
  }
  100% {
    left:-80px;
    top:-180px;
  }
}

body {
  box-sizing: border-box;
  font-family: 'Press Start 2P', cursive;
  //background-color: blue;
  width:100%;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-content: center;
  background-color: black;
  color: white
}

main{
  display: flex;
  justify-content: space-around;
  align-content: center;
  flex-wrap: wrap;
  width:800px;

  border: 1px solid red;

  button {
    color: black;
    background-color: white;
    font-family: 'Press Start 2P', cursive;
    height:4em;
    padding:1em 2em 1em 2em;

    &:focus{
      outline: none;
    }
  }

  .fight-box {
    border: 1px solid blue;

    max-width:800px;
    width:100%;

    .fight-box-top{
      display: flex;
      justify-content: space-around;
      border: 1px solid green;
      display: flex;
      flex-direction: row-reverse;

      button.reset-button{
        // color: white;
        // background-color: black;
        // height:4em;
        // padding:1em 2em 1em 2em;

        &:focus{
          // outline: none;
        }
      }

    }
    .fight-box-middle{
      border: 1px solid yellow;
      //position:relative;
      // top:0;

      // margin:0  auto;
      display: flex;
      justify-content: space-between;

      .fight-box-middle-left{
        flex-grow: 1;
        padding: 1em;
        .player-weapon-text{
          width:100px;
        }

      }
      .fight-box-middle-right {
        flex-grow: 1;
        padding: 1em;

        .cpu-weapon-text{
          width:100px

        }

      }

      .fight-box-middle-middle{
        display:flex;
        justify-content: space-between;

        $background-width:450px;
        $background-height:330px;

        width:$background-width;
        height:$background-height;
        background-image: url('../images/jet.jpg');
        background-size:contain;

        .rock {
          animation: punch steps(3) 0.15s infinite;
        }
        .paper {
          animation: kick steps(5) 0.15s infinite;
        }
        .scissors {
          animation: reversekick steps(5) 0.15s infinite;
        }


        .player{
          display: flex;
          flex-direction: column-reverse;

          .player-image-weapon {
            display: none;
            position: relative;
            top:0px;
            left:50px;
            font-size: 1em;
            color:blue;
            &.active{
              display: block;
              animation: weaponTextAnim linear 0.5s, scaleWeapon linear 0.5s;
            }
          }
          .player-image {
            width:$spriteWidth; height:$spriteHeight; /* exactly the size of an image in our sprite */
            background-image:url('../images/sprite.png');
          }
        }
        .cpu{
          align-self: flex-end;
          display: flex;
          flex-direction: row-reverse;
          align-items: flex-end;
          .cpu-image-weapon {
            align-self: flex-end;
            display: none;
            position: relative;
            top:-80px;
            left:20px;
            font-size: 1em;
            color:red;

            &.active{
              display: block;
              animation: cpuWeaponTextAnim linear 0.5s, scaleWeapon linear 0.5s;
            }

          }
          .cpu-image{

            width:$spriteWidth; height:$spriteHeight; /* exactly the size of an image in our sprite */
            background-image:url('../images/sprite.png');

            transform:scaleX(-1);

          }
        }
      }






      .vs-text {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-grow: 1;
        p {
          font-size: 2em;
        }
      }


    }
    .fight-box-bottom{
      padding:1em;
      text-align: center;
      height:2em;
      border: 1px solid orange;

    }

  }

  button {
    // color: white;
    // background-color: black;
    // height:4em;
    // padding:1em 2em 1em 2em;

    &:focus{
      // outline: none;
    }
  }
}
